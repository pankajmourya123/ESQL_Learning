
DECLARE threshold shared INTEGER;
	
CREATE COMPUTE MODULE Extrenalvarible_Compute
  

	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN		
			 IF OutputRoot.JSON.Data.value > threshold THEN
			SET OutputRoot.JSON.Data.status='Above Threshold';
		ELSE
			SET OutputRoot.JSON.Data.status='Below Threshold';
		END IF;

		RETURN TRUE;
	END;	    


END MODULE;


CREATE COMPUTE MODULE flow2_Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		
		
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	

	CREATE PROCEDURE CopyEntireMessage() BEGIN
		
		IF OutputRoot.JSON.Data.value > threshold THEN
			SET OutputRoot.JSON.Data.status='Above Threshold hai ';
		ELSE
			SET OutputRoot.JSON.Data.status='Below Threshold hai ';
		END IF;
	END;
	
END MODULE;
